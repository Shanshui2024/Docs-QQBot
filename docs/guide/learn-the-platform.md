---
title: 使用开放平台
sidebar_position: 2
---

:::danger 本节未完工
不要着急，您看到这个信息是因为本章节暂未完工

您仍然可以查看其他文档

带来不便敬请谅解喵ο(=•ω＜=)ρ⌒☆
:::

:::danger 本页暂无图片
慢点来慢点来，设备不在手边，写起来比较费劲，还望多多谅解喵

♡=•ㅅ＜=)
:::
# 使用QQ开放平台

## 先决条件
- 一个可用的[开发者账户](./create-an-account)
- 一个可用的[机器人](./create-a-bot)

## 登录
通过 [QQ开放平台](httpd://q.qq.com/) 登录开发者账户，并选定您的机器人

:::warning 注意
由于开平**未适配**手机端，手机端页面无法正常显示，因此本处不推荐使用手机进行操作
:::

## 工作流
根据开平机器人首页，我们可以看到其被分为三部分

即：资料、机器人开发和上线

接下来，我们会按照该顺序逐级介绍相关功能。

## 资料
除了在 **创建期间** 可以编辑机器人资料外，我们还可以点击 `首页 > 资料` 或左侧边栏的 `账号设置` 一栏对相关资料进行调整。
### 基础信息
需要注意的是，**每个机器人每月仅可修改五次基础信息**，请仔细斟酌后再进行修改。

点击“修改”按钮后，会弹出一个验证窗口，请使用管理员QQ进行扫码验证。

截至目前，可修改的基础信息有名称，头像和介绍。在修改时，请遵守官方规则，例如：
- 机器人名称允许2-30个字符，一个中文=两个字符。
- 机器人名称需遵守 [运营规范](https://bot.q.qq.com/wiki/business) （控制台的文档链接“命名规范”已废弃）
- 机器人头像不允许摄政和色情等
- 机器人头像建议使用 `.png` 格式不超过2M，尺寸建议为144px × 144px
- 机器人介绍信息不允许摄政等

完毕后，请点击完成修改并 **再次扫码验证** 。随后即可等待其通过修改

:::warning 
如果编辑资料后被开放平台打回，请检查自己提交的资料是否存在摄政等问题，毕竟是否打回取决于开平审核
::: 

### 账号信息
本组件不可修改，其中的AppID为您的机器人ID（**不是机器人QQ号**），我们也可以在 `管理 > 开发管理` 或 `开发 > 开发管理` 里看到AppID。

登录邮箱则为该账号的邮箱

### 聊天背景素材设置
本组件允许开发者在单聊页面自定义 **简介页面** 的背景图，对于机器人介绍页面很有用

:::warning 注意
开放平台的表述实际上有误，**“聊天背景素材”** 实际上与聊天背景没有任何关系。
::: 

允许上传的图片格式为 `.png` 或 `.jpg` ，尺寸 `720*1280` ，可分别设定日间和夜间的背景图，完毕后点击 `保存` 按钮并使用管理员QQ进行验证。

例如在本处，我们使用AI生成的背景图填入机器人的两种背景图并保存提审。这样，就可以在机器人简介页面看到了。

### 开场白设置
此处可修改群聊和私聊开场白，当机器人被添加进群聊或被用户添加进聊天时，将会自动发送开场白信息。

当然，由于开放平台也有加群推送的通知，所以群聊/私聊开场白信息也可通过事件判断进行推送，具体内容我们会在开发中详解。

特别的，对于 **私聊开场白** ，开放平台还存在 **自定义对话建议** 一栏，当用户进行聊天时，会自动弹出聊天建议。

### 功能介绍素材设置
本处上传的图片可以展示出对应功能的返回内容，下图为 [幽幽子](https://bot.yunmengdu.cn) 的官Bot页面。

对于此处内容，具体要求见 [机器人资料卡 配置指引](https://docs.qq.com/doc/DY3pBQkx1Y25SblpB?_t=1771320461841&nlc=1) 

### 机器人官方频道跳转
此处可配置简介页面的频道跳转，具体功能状态等详见 [机器人资料卡 配置指引](https://docs.qq.com/doc/DY0ZLbWtldU1sZGN5) 

### 其他
除了上述内容外，页面内还有 **频道用户意见反馈** 和 **产品ID填写** 。 具体操作要求见管理端控制台。

## 机器人开发

本节内容，我们将会详细解释机器人开发相关部分，同时，该部分也是 **最为重要的部分** ，希望各位能多多阅读这些内容～

:::danger 

(┙>∧<)┙へ┻┻
前面的内容涉及到亲自开发、其他机器人框架接入和其他注意事项，必要的地方会用 **加粗** 标注
:::

本节共分为五个内容：沙箱配置、功能配置、高阶能力、开发管理、回调配置。

### 沙箱配置
按照开平的说法，沙箱环境是正式上线前的测试环境，在沙箱中指定的QQ群、消息列表、频道和频道私信可以在机器人正式上线前先进行功能预览。

对于**部分框架适配器**，可能会有一个 **“沙箱模式”** 的开关。在测试环境下启用，但如果在 **上线前提交审核** ，请 **关闭框架适配器的沙箱模式** 。

添加沙箱配置时，如果没有你想添加的成员，可以点击侧边栏 `管理 > 成员管理`  后，在弹出的页面中找到 **添加成员** ，输入指定成员的QQ号、点击 **“搜索用户”** 按钮，然后选择指定成员，分配 **开发设置** 权限并保存。

这样，就可以选定私聊和频道私信成员了。

**QQ群和QQ频道** 列表只取决于当前登录的管理员账户的**群/频道列表**，需要注意的是，只有 **人数≤20人 且 管理员QQ为群主/群管/频道主/频道管理** 才可以被添加进指定群聊。

特别的，对于QQ频道，还存在 **机器人类型** 的区分，为 公域 和 私域 机器人。


### 沙箱配置 - 机器人类型
#### 私域机器人
私域机器人仅允许加入 由管理员QQ创建的 频道，无法被其他频道检索并加入。

（当然，频道限制不包括平台的官方频道和官方测试频道的添加）

不过需要注意的是，私域机器人的 **频道请求接口** 与 公域的 **频道请求接口** 不一致，具体文档如下
- [QQ公、私域机器人能力开放计划](https://doc.weixin.qq.com/doc/w3_m_SgnABcmAnWTK?scode=AJEAIQdfAAo8l5jUdwAIMA9waBACc)
- [私域流量机器人定向开放接口开发文档](https://doc.weixin.qq.com/doc/w3_AaEAbQaSAI01prhM2YcToOiM60IZv?scode=AJEAIQdfAAosSMAvupAaEAbQaSAI0)

#### 公域机器人
公域机器人允许被其他频道搜索、添加和推荐，不取决于管理员状态，只取决于是否正式上线。

在以往的平台规定中，私域机器人有100条/频道/天的 **主动消息** ，而公域只有2条/频道/天的 **主动消息** ，但开平已经于 **2025年4月21日 关闭了主动消息接口**。

:::tip 主动消息是什么？
主动消息，官方定义是：不依赖其他事件而发送的消息，范围涵盖几乎所有发送消息（不包括表情表态）。但只有4条/群/月，通常用于推送更新提示（例如 [幽幽子](https://bot.yunmengdu.cn) ）。

需要注意的是，**主动消息已经被停用，详见 [【关于QQ机器人消息推送调整策略通知】](https://q.qq.com/miniapp#/news/detail/974e66a946a5e54c441ca983585a7aab)** 。
:::

### 功能配置
功能配置分为三部分，有 服务、指令和快捷菜单。
:::warning 注意
**服务** 一栏没有具体进行测试，官方占位符也没有进行实验，本处内容可能并不准确。
:::

服务，可接入对应的小程序并附带请求参数，例如QQ频道、私聊和频道私聊等占位符。

***据传：** 小程序路径是开发小程序时的代码文件目录*

指令，可配置机器人在不同聊天环境下的命令菜单，可配置权限范围等等。

需要注意的是，**群聊/频道**下 激活机器人命令需要 **艾特机器人** 

